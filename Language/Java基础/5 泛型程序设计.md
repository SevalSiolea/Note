## 一  知识结构

#### 1  开始使用泛型

1.1  类型参数
1.2  泛型类
1.3  泛型方法
1.4  类型变量的限定
1.5  泛型的继承规则

#### 2  泛型实现原理：类型擦除

#### 3  泛型的限制

#### 4  通配符类型

4.1  有限定通配符
4.2  无限定通配符
4.3  通配符捕获

## 二  主要内容

​	泛型程序设计意味着编写的代码可以对多种不同类型的对象重用。泛型为Java提供了一个表述能力很强的类型系统，允许泛型的使用者详细地描述变量和方法的类型要如何变化。使用泛型相对简单，但泛型的编写者必须仔细，预计各种可能的用法，深入考虑语法细节，避免限制和错误。

​	通过使用类型参数，可以编写泛型类或泛型方法；可以用具体类型替换类型变量，从而将泛型类或泛型方法实例化。泛型类使用类型变量指定字段和局部变量的类型，以及方法的参数和返回类型。泛型方法可以定义在普通类或泛型类中，并用具体类型调用。可以使用`extends`关键字限定类型变量的超类或接口。泛型的继承规则很奇怪，无论`S`和`T`有什么关系，由它们实例化的泛型类型通常都没有任何关系；不过，泛型类可以像普通类一样，继承其它普通类或泛型类。

​	在底层原理上，泛型通过类型擦除实现。每一个泛型类型都有一个对应的原始类型，它是泛型类型去掉类型参数后的类型。类型变量会被擦除，并被替换为其限定类型，或者在无限定的情况下替换为`Object`类。Java还会在必要时插入强制类型转换，会合成桥方法来保持多态。

​	使用泛型类型有许多限制，大多数限制都来自于类型擦除。最大的几个限制例如，不能实例化类型变量，不能创建参数化类型的数组，不能构造泛型数组，等等。

​	通配符用于更灵活地使用泛型。带限定的通配符在泛型类型之间建立了转换关系，允许写入或读取泛型对象。无限定通配符很脆弱，但可以被捕获，在某些情况下非常有用。

## 三  重点梳理

- 理解和掌握泛型的基本使用方法。
- 理解泛型的实现原理：类型擦除。
- 理解和掌握使用泛型时的主要限制。
- 了解有限定通配符的使用方法。

## 四  难点解析

#### 1  如何通过类型擦除实现泛型？

#### 2  类型擦除为什么会与多态冲突？如何通过合成桥方法保持多态？

#### 3  使用泛型有哪些局限性？

#### 4  什么是通配符？如何理解和使用有限定通配符？

#### 5  如何理解和使用无限定通配符？如何捕获无限定通配符？

## 五  重要图表

- P333  类型擦除后的原始类型
  ![类型擦除后的原始类型_1](D:\Learn\Note\Language\Java基础\Image\5 泛型程序设计\类型擦除后的原始类型_1.png)
  ![类型擦除后的原始类型_2](D:\Learn\Note\Language\Java基础\Image\5 泛型程序设计\类型擦除后的原始类型_2.png)
- P347  泛型类型的关系
  ![泛型类型的关系](D:\Learn\Note\Language\Java基础\Image\5 泛型程序设计\泛型类型的关系.png)
- P348 & P350  有限定通配符
  ![子类型限定通配符](D:\Learn\Note\Language\Java基础\Image\5 泛型程序设计\子类型限定通配符.png)
  ![超类型限定通配符](D:\Learn\Note\Language\Java基础\Image\5 泛型程序设计\超类型限定通配符.png)

## 六  薄弱点清单



------

