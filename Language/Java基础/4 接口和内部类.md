## 一  知识结构

#### 1  接口

1.1  接口的概念和使用
1.2  `Comparable` 接口
	1.2.1  `Comparator` 接口
1.3  接口的特点
1.4  接口的扩展
1.5  接口的默认方法
	1.5.1  解决默认方法冲突
1.6  接口实现回调
1.7  对象克隆
	1.7.1  浅拷贝和深拷贝

#### 2  内部类

2.1  内部类的基本用法
2.2  内部类的引用
2.3  局部内部类
	2.3.1  局部类访问局部变量
2.4  匿名内部类
2.5  静态内部类

#### 3  lambda表达式

3.1  传递代码
3.2  lambda表达式的概念和定义
3.3  函数式接口
3.4  方法引用
	3.4.1  构造器引用
3.5  lambda表达式捕获局部变量
3.6  常用函数式接口

## 二  主要内容

​	在前两个章节，已经学过了Java面向对象程序设计的核心知识：类和继承；使用这些知识已经能够进行简单的面向对象程序设计了。本章将介绍几种常用的高级技术：接口，内部类和lambda表达式。

​	接口是一组特定的需求，要求实现接口的类能够满足这些需求；实现接口的类通过满足接口的需求得到特定的服务。例如，正确实现`Comparable`接口的类能够用`Arrays.sort()`方法对该类的对象数组进行排序；正确实现`Cloneable`接口的类能够克隆该类的对象。实现接口的类必须能够按照接口的期望正确地实现接口中的全部方法。接口很像抽象类，但有许多自己的特点；接口最大的好处是允许一个类扩展多个接口，这是抽象类不能满足的。接口可以为方法提供一个默认实现，当默认方法冲突时采用“类优先”规则。使用接口可以实现回调，这种实现方法具有明显的面向对象特征。

​	内部类是位于另一个类内部的类。使用内部类的好处在于，内部类可以对同一个包中的其它类隐藏，还能访问外部类的所有字段和方法。内部类有一个外部类的引用，其它类也可以访问公共内部类。有几种不同的内部类：局部内部类、匿名内部类、静态内部类。每种内部类有自己的使用情况和使用思路。

​	lambda表达式是为满足传递代码的需要而引入的。有时希望传递代码以待之后执行，有时候希望将一段代码执行多次；传递代码已经成为语言的迫切需要，于是引入lambda表达式。lambda表达式是一个可传递的代码块，其语法格式为`( parameters ) -> { statements }`。lambda表达式的作用非常有限，大多数情况下它被转换为一个函数式接口，并用于任何一个接收函数式接口的地方；具体来说，lambda表达式常用于方法调用的实际参数。为此，Java API在`java.util.function`包中定义了许多常用的函数式接口。如果lambda表达式的体只调用一个方法，还可以更进一步，用方法引用代替lambda表达式。lambda表达式还可以捕获所在块的局部变量，不过这些变量必须是事实最终变量。

## 三  重点梳理

- 理解接口的使用思路，掌握接口的使用方法。
- 掌握如何通过实现`Comparable`接口使类的对象可以比较。
- 掌握如何通过实现`Cloneable`接口使类的对象可以克隆。
- 掌握内部类的基本用法，理解不同内部类的使用情况和使用思路。
- 理解函数式接口，掌握lambda表达式的定义和使用，掌握方法引用的使用。
- 理解回调，掌握实现回调的三种方法：接口、匿名内部类、lambda表达式。

## 四  难点解析

#### 1  如何理解使用接口的意图和思路？如何通过使用接口来得到相关的服务？

#### 2  如何通过实现`Comparable`接口使类的对象是可比较的？需要遵循哪些规则？

#### 3  如何理解回调？如何根据面向对象的思想，使用接口实现回调？如何使用匿名内部类和lambda表达式实现回调？

#### 4  什么是浅拷贝和深拷贝？如何使用`clone()`方法克隆对象？

#### 5  有哪些内部类？这些内部类的使用方法和使用思路是怎样的？

#### 6  如何定义lambda表达式？什么是函数式接口？如何使用lambda表达式转换为函数式接口？

#### 7  什么是方法引用？如何使用方法引用等价替代lambda表达式？

## 五  重要图表

- **P237  拷贝和克隆**
  ![拷贝和克隆](D:\Learn\Note\Language\Java基础\Image\4 接口和内部类\拷贝和克隆.png)
- **P238  浅拷贝和深拷贝**
  ![浅拷贝和深拷贝](D:\Learn\Note\Language\Java基础\Image\4 接口和内部类\浅拷贝和深拷贝.png)
- P263  局部内部类
  ![局部内部类](D:\Learn\Note\Language\Java基础\Image\4 接口和内部类\局部内部类.png)
- P264  匿名内部类
  ![匿名内部类](D:\Learn\Note\Language\Java基础\Image\4 接口和内部类\匿名内部类.png)
- P243 & P244  lambda表达式
  ![lambda表达式_1](D:\Learn\Note\Language\Java基础\Image\4 接口和内部类\lambda表达式_1.png)
  ![lambda表达式_2](D:\Learn\Note\Language\Java基础\Image\4 接口和内部类\lambda表达式_2.png)
- **P248  方法引用示例**
  ![方法引用示例](D:\Learn\Note\Language\Java基础\Image\4 接口和内部类\方法引用示例.png)
- **P253  常用函数式接口**
  ![常用函数式接口_1](D:\Learn\Note\Language\Java基础\Image\4 接口和内部类\常用函数式接口_1.png)
  ![常用函数式接口_2](D:\Learn\Note\Language\Java基础\Image\4 接口和内部类\常用函数式接口_2.png)
- **P254  常用基本类型的函数式接口**
  ![常用基本类型的函数式接口_1](D:\Learn\Note\Language\Java基础\Image\4 接口和内部类\常用基本类型的函数式接口_1.png)
  ![常用基本类型的函数式接口_2](D:\Learn\Note\Language\Java基础\Image\4 接口和内部类\常用基本类型的函数式接口_2.png)

## 六  薄弱点清单



------

