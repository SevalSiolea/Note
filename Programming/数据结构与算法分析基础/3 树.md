## 一  知识结构

#### 1  树

1.1  树ADT
1.2  树的实现
1.3  树的应用：文件系统
1.4  树的遍历

#### 2  二叉树

2.1  二叉树ADT
2.2  二叉树的实现
2.3  二叉树的应用：表达式树

#### 3  二叉查找树

3.1  二叉查找树ADT
3.2  二叉查找树的实现
	3.2.1  编程实现
	3.2.2  实现讲解
3.3  性能分析
3.4  潜在问题

#### 4  AVL树

4.1  AVL树的操作
	4.1.1  单旋转
	4.1.2  双旋转
4.2  AVL树的实现
	4.2.1  编程实现
	4.2.2  实现讲解

#### 5  伸展树

5.1  伸展树的操作：展开
5.2  性能分析

#### 6  B+树

6.1  外部数据结构
6.2  基本思路
6.3  B+树的结构
6.4  B+树的操作

#### 7  标准库的树

7.1  `Set`接口
7.2  `Map`接口
7.3  树的迭代器

## 二  主要内容

​	树是一种基本的数据结构。本章着重学习二叉查找树，它以对数平均时间支持插入、删除、查找操作，并且对于依靠元素排序的操作也提供了有效的支持。

​	树可以递归地定义，并以一种通用但不太直观的方式实现。树的应用很多，典型的应用如操作系统中的文件系统。对树可以执行多种遍历方式，如先序遍历和后序遍历，以及不太常用的层序遍历；如果树是二叉树，还可以执行中序遍历。
​	二叉树是特殊的树，每个节点至多有两棵子树。二叉树的重要性质是其平均深度很小，并且实现也非常简单。二叉树的一个应用是表达式树。

​	二叉查找树是本章学习的重要数据结构。二叉查找树要求其所有的元素可以以某种方式排序，二叉查找树会把这些元素排序地存放在树的节点中；具体地说，对于树中任意一个节点，所有小于该节点的元素放在它的左子树中，所有大于该节点的元素放在它的右子树中。本章给出了二叉查找树的编程实现，并作出了详细的讲解。
​	二叉查找树保证所有操作都以对数平均时间完成。潜在问题在于，二叉查找树的结构可能非常糟糕，使得任意操作均花费更多时间。解决这一问题的数据结构是平衡树和自调整树，本章给出了各自的实现，即AVL树和伸展树。

​	AVL树是一种简单的平衡树。平衡树要求树的结构必须满足一定的条件，并在破坏平衡结构的操作发生时执行平衡操作。对于AVL树，要求任意节点的两棵子树的高度差至多为1，并在插入操作和删除操作发生时，检测并满足平衡条件。AVL树的平衡操作是单旋转和双旋转，分别适用于不同的情况。本章也给出了AVL树的编程实现和实现讲解，只在二叉查找树的编程实现上稍作修改即可。AVL树由于是平衡的，因此保证了任意操作的对数最坏时间。

​	伸展树是一种自调整树。自调整树要求在任意操作发生后，调整树的结构，但并未要求树的结构时刻满足某种平衡条件。伸展树的调整操作是展开，它把被操作的节点推至根处，并调整路径上的一系列节点。伸展树并不时刻保证树的平衡条件，因此单个的坏操作仍然存在；可是由于时刻调整树的结构，因此一系列的操作不可能都是坏操作，其最坏摊还时间是对数级别的，这在实际情况下也是可以接受的。

​	B+树是一种外部数据结构，即存储在磁盘上的数据结构。由于磁盘访问比指令执行耗时更多，因此外部数据结构主要关注磁盘访问次数作为其运行时间的衡量标准。B+树是设计精巧的外部数据结构，它不仅保证了树的平衡还使得树的深度尽可能地浅，从而任意操作的磁盘访问次数非常小，甚至有可能降低到常数级别。由于B+树是平衡树，因此在插入操作和删除操作发生时要执行平衡操作，主要的平衡操作是分裂和合并。

​	标准库中实现了树。`Set`接口表示没有重复元素的`Collection`，而`Map`接口则表示键值对的集合，所有的键均不允许重复。`TreeSet`类和`TreeMap`类分别实现了它们。对于树，迭代器的实现是一大难点，本章讨论了几种可能的实现思路，其中最好的实现思路是线索树。

## 三  重点梳理

- 理解树和二叉树的ADT，理解并掌握树和二叉树的实现。
- 理解并掌握如何以不同方式遍历树，了解树的迭代器。
- 理解并掌握二叉查找树，理解其ADT、实现、性能分析。
- 理解并掌握AVL树，理解其操作和实现。
- 理解并掌握伸展树，理解其操作、实现、性能分析。
- 理解并掌握B+树，理解其结构和操作。
- 掌握标准库的`TreeSet`类和`TreeMap`类。

## 四  难点解析

#### 1  如何遍历树？讲解树的四种遍历方式。

#### 2  二叉查找树是如何实现的？二叉查找树的主要操作如何执行？

#### 3  二叉查找树的潜在问题是什么？平衡树和自调整树如何解决？

#### 4  AVL树如何执行旋转以保证其平衡条件？

#### 5  伸展树的展开操作如何进行？

#### 6  分析并比较二叉查找树、AVL树、伸展树的性能。

#### 7  B+树实现的基本思路是怎样的？其结构是怎样的？如何执行主要操作？简述即可。

#### 8  如何实现树的迭代器？简述几种主要思路。

#### 9  在树中，如何执行懒惰删除操作？它有哪些好处？

## 五  重要图表

- P71  树的定义
  ![树的定义](D:\Learn\Note\Programming\数据结构与算法分析基础\Image\3 树\树的定义.png)

- P72  树的实现
  ![树的实现_1](D:\Learn\Note\Programming\数据结构与算法分析基础\Image\3 树\树的实现_1.png)

  ![树的实现_2](D:\Learn\Note\Programming\数据结构与算法分析基础\Image\3 树\树的实现_2.png)

- P73  先序遍历的例子
  ![先序遍历的例子](D:\Learn\Note\Programming\数据结构与算法分析基础\Image\3 树\先序遍历的例子.png)

- P75  后序遍历的例子
  ![后序遍历的例子](D:\Learn\Note\Programming\数据结构与算法分析基础\Image\3 树\后序遍历的例子.png)

- **P76  二叉树的实现**
  ![二叉树的实现](D:\Learn\Note\Programming\数据结构与算法分析基础\Image\3 树\二叉树的实现.png)

- P76  表达式树的例子
  ![表达式树的例子](D:\Learn\Note\Programming\数据结构与算法分析基础\Image\3 树\表达式树的例子.png)

- **P79  二叉查找树的实现**
  ![二叉查找树的实现](D:\Learn\Note\Programming\数据结构与算法分析基础\Image\3 树\二叉查找树的实现.png)

- **P87  单旋转**
  ![单旋转](D:\Learn\Note\Programming\数据结构与算法分析基础\Image\3 树\单旋转.png)

- **P89  双旋转**
  ![双旋转](D:\Learn\Note\Programming\数据结构与算法分析基础\Image\3 树\双旋转.png)

- **P92 & P93  AVL树的实现**
  ![AVL树的实现_1](D:\Learn\Note\Programming\数据结构与算法分析基础\Image\3 树\AVL树的实现_1.png)

  ![AVL树的实现_2](D:\Learn\Note\Programming\数据结构与算法分析基础\Image\3 树\AVL树的实现_2.png)![AVL树的实现_3](D:\Learn\Note\Programming\数据结构与算法分析基础\Image\3 树\AVL树的实现_3.png)

- **P96  伸展树的展开操作**
  ![伸展树的展开操作_1](D:\Learn\Note\Programming\数据结构与算法分析基础\Image\3 树\伸展树的展开操作_1.png)![伸展树的展开操作_2](D:\Learn\Note\Programming\数据结构与算法分析基础\Image\3 树\伸展树的展开操作_2.png)

- **P103  B+树的结构**
  ![B+树的结构](D:\Learn\Note\Programming\数据结构与算法分析基础\Image\3 树\B+树的结构.png)

- **P103 & P104  B+树的操作**
  ![B+树的操作_1](D:\Learn\Note\Programming\数据结构与算法分析基础\Image\3 树\B+树的操作_1.png)

  ![B+树的操作_2](D:\Learn\Note\Programming\数据结构与算法分析基础\Image\3 树\B+树的操作_2.png)

  ![B+树的操作_3](D:\Learn\Note\Programming\数据结构与算法分析基础\Image\3 树\B+树的操作_3.png)

## 六  薄弱点清单



------

